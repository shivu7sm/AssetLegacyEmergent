{
  "timestamp": "2025-11-23T18:09:27.423961",
  "total_tests": 113,
  "passed_tests": 102,
  "success_rate": 90.2654867256637,
  "test_details": [
    {
      "test": "Get current user (/auth/me)",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:56.798183"
    },
    {
      "test": "Get user without auth (should fail)",
      "success": true,
      "details": "Status: 401",
      "timestamp": "2025-11-23T18:08:56.841478"
    },
    {
      "test": "Get assets list",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:56.891082"
    },
    {
      "test": "Create new asset",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.006749"
    },
    {
      "test": "Update asset",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.051398"
    },
    {
      "test": "Get assets after creation",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.095213"
    },
    {
      "test": "Delete asset",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.141456"
    },
    {
      "test": "Get nominee (initially empty)",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.193101"
    },
    {
      "test": "Create nominee",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.239329"
    },
    {
      "test": "Update nominee",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.278407"
    },
    {
      "test": "Get DMS config (initially empty)",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.326987"
    },
    {
      "test": "Create DMS configuration",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.373139"
    },
    {
      "test": "Reset DMS timer",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.408685"
    },
    {
      "test": "Update DMS configuration",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.447349"
    },
    {
      "test": "Create asset for dashboard test",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.483282"
    },
    {
      "test": "Get dashboard summary",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.526256"
    },
    {
      "test": "Get existing assets for cleanup",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.563235"
    },
    {
      "test": "Delete existing asset d91ae946-9616-472d-b3e0-2e95986d749a",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.599625"
    },
    {
      "test": "Create property asset: Family Home",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.636988"
    },
    {
      "test": "Create crypto asset: Bitcoin Investment",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.680853"
    },
    {
      "test": "Create stock asset: Apple Stock",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.721171"
    },
    {
      "test": "Create bank asset: Savings Account",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.759907"
    },
    {
      "test": "Create loan liability: Home Mortgage",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.798901"
    },
    {
      "test": "Create credit_card liability: Credit Card Debt",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.838567"
    },
    {
      "test": "Get dashboard summary with assets and liabilities",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.879710"
    },
    {
      "test": "Dashboard summary has all required Phase 1 fields",
      "success": true,
      "details": "All Phase 1 fields present",
      "timestamp": "2025-11-23T18:08:57.880458"
    },
    {
      "test": "Asset calculation accuracy",
      "success": true,
      "details": "Expected: $429000.0, Actual: $429000.0",
      "timestamp": "2025-11-23T18:08:57.880485"
    },
    {
      "test": "Liability calculation accuracy",
      "success": true,
      "details": "Expected: $185000, Actual: $185000.0",
      "timestamp": "2025-11-23T18:08:57.880489"
    },
    {
      "test": "Net worth calculation accuracy",
      "success": true,
      "details": "Expected: $244000.0, Actual: $244000.0",
      "timestamp": "2025-11-23T18:08:57.880492"
    },
    {
      "test": "Cleanup test asset/liability c3b2da08-7f98-463a-93ec-4adf7411c20a",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.918717"
    },
    {
      "test": "Cleanup test asset/liability c3e315b7-3c8b-471c-8f85-88002c05e205",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:57.963544"
    },
    {
      "test": "Cleanup test asset/liability 9c187d7d-2295-4bb5-ab3e-d67086c25876",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:58.003912"
    },
    {
      "test": "Cleanup test asset/liability e891aeed-0294-4f35-93a6-fb579981e3cb",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:58.083219"
    },
    {
      "test": "Cleanup test asset/liability 3c1c29df-ee7d-4684-90bf-240431902ba6",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:58.120225"
    },
    {
      "test": "Cleanup test asset/liability c56f004a-1908-4403-b3d3-a63092ba7090",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:58.159042"
    },
    {
      "test": "Create real estate with current_price_per_area",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:58.197970"
    },
    {
      "test": "Real estate has current_price_per_area field",
      "success": true,
      "details": "Value: $250.0",
      "timestamp": "2025-11-23T18:08:58.198715"
    },
    {
      "test": "Get dashboard summary for real estate calculation test",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:58.237090"
    },
    {
      "test": "Dashboard uses current_price_per_area for calculation",
      "success": true,
      "details": "Expected: $375000, Actual: $375000.0",
      "timestamp": "2025-11-23T18:08:58.237796"
    },
    {
      "test": "Update real estate current_price_per_area",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:58.276678"
    },
    {
      "test": "Cleanup real estate test asset",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:58.321031"
    },
    {
      "test": "Get Bitcoin price",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:58.484317"
    },
    {
      "test": "Get gold price",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:58.519506"
    },
    {
      "test": "Get USD to EUR conversion",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:58.811593"
    },
    {
      "test": "Create asset with purchase_date (should auto-create snapshot)",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:59.219749"
    },
    {
      "test": "Get net worth history to verify auto-created snapshot",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:59.259076"
    },
    {
      "test": "Snapshot auto-created for asset purchase date",
      "success": true,
      "details": "Found snapshot for 2024-01-15 in ['2024-01-15']",
      "timestamp": "2025-11-23T18:08:59.259832"
    },
    {
      "test": "Cleanup snapshot test asset",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:59.296930"
    },
    {
      "test": "Create crypto asset for backfill: Bitcoin for Backfill Test",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:59.703539"
    },
    {
      "test": "Create stock asset for backfill: Tesla Stock for Backfill Test",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:59.786621"
    },
    {
      "test": "Create bank asset for backfill: Savings for Backfill Test",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:59.825222"
    },
    {
      "test": "Call networth backfill endpoint",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:59.868586"
    },
    {
      "test": "Backfill endpoint returns proper response structure",
      "success": true,
      "details": "Created 3 snapshots for dates: ['2024-01-10', '2024-02-15', '2024-03-01']",
      "timestamp": "2025-11-23T18:08:59.869361"
    },
    {
      "test": "Get net worth history after backfill",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:59.908152"
    },
    {
      "test": "Backfill created snapshots for all purchase dates",
      "success": true,
      "details": "Found snapshots for: ['2024-01-10', '2024-02-15', '2024-03-01']",
      "timestamp": "2025-11-23T18:08:59.908800"
    },
    {
      "test": "Cleanup backfill test asset 45557cb8-1f91-47f3-9205-08d52dca7eaf",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:59.949288"
    },
    {
      "test": "Cleanup backfill test asset da2a01a3-b5ce-43bf-b77e-fec907822666",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:08:59.988556"
    },
    {
      "test": "Cleanup backfill test asset cd97ce94-cfb6-4a02-bb9f-b207d0d518cd",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:00.031467"
    },
    {
      "test": "Create asset with initial purchase_date",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:00.443064"
    },
    {
      "test": "Update asset with new purchase_date (should auto-create snapshot)",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:00.485181"
    },
    {
      "test": "Get net worth history after purchase date update",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:00.523423"
    },
    {
      "test": "Asset update with date change creates new snapshot",
      "success": true,
      "details": "Found snapshots for both dates: ['2024-01-20', '2024-02-25']",
      "timestamp": "2025-11-23T18:09:00.524125"
    },
    {
      "test": "Cleanup date change test asset",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:00.561931"
    },
    {
      "test": "Create stock asset for AI insights: Apple Stock for AI Test",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:00.990437"
    },
    {
      "test": "Create crypto asset for AI insights: Bitcoin for AI Test",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:01.028852"
    },
    {
      "test": "Create property asset for AI insights: Investment Property for AI Test",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:01.108115"
    },
    {
      "test": "Generate AI insights",
      "success": false,
      "details": "Error: HTTPSConnectionPool(host='assetvault-dev.preview.emergentagent.com', port=443): Read timed out. (read timeout=10)",
      "timestamp": "2025-11-23T18:09:11.141584"
    },
    {
      "test": "Cleanup AI insights test asset 0208a126-3b37-4352-9252-1c300aa02bee",
      "success": false,
      "details": "Error: HTTPSConnectionPool(host='assetvault-dev.preview.emergentagent.com', port=443): Read timed out. (read timeout=10)",
      "timestamp": "2025-11-23T18:09:21.193747"
    },
    {
      "test": "Cleanup AI insights test asset 2542f740-3fb2-4cb4-8d72-fb91ac35802d",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:21.837078"
    },
    {
      "test": "Cleanup AI insights test asset 9f8e5177-1a30-48a6-8ddd-8aacc152d36c",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:21.918487"
    },
    {
      "test": "Generate insights for retrieval test",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:21.999457"
    },
    {
      "test": "Get latest AI insights",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:22.079489"
    },
    {
      "test": "Latest insights matches generated insights timestamp",
      "success": true,
      "details": "Timestamp: 2025-11-23T18:09:21.954333+00:00",
      "timestamp": "2025-11-23T18:09:22.080191"
    },
    {
      "test": "Latest insights has all required fields",
      "success": true,
      "details": "All fields present",
      "timestamp": "2025-11-23T18:09:22.080201"
    },
    {
      "test": "Generate first AI insights",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:22.119039"
    },
    {
      "test": "Generate second AI insights (refresh)",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:24.163176"
    },
    {
      "test": "Second insights has more recent timestamp",
      "success": true,
      "details": "Time difference: 2.043138 seconds",
      "timestamp": "2025-11-23T18:09:24.163859"
    },
    {
      "test": "Get latest insights after refresh",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:24.202950"
    },
    {
      "test": "Latest insights returns most recent insight",
      "success": true,
      "details": "Latest timestamp matches second generation: 2025-11-23T18:09:24.158481+00:00",
      "timestamp": "2025-11-23T18:09:24.203658"
    },
    {
      "test": "Get portfolio assets list (initially empty)",
      "success": false,
      "details": "Status: 401, Expected: 200, Response: {'detail': 'Unauthorized'}",
      "timestamp": "2025-11-23T18:09:24.662565"
    },
    {
      "test": "Create new portfolio account",
      "success": false,
      "details": "Status: 401, Expected: 200, Response: {'detail': 'Unauthorized'}",
      "timestamp": "2025-11-23T18:09:24.700937"
    },
    {
      "test": "Portfolio creation returns success and ID",
      "success": false,
      "details": "Response: None",
      "timestamp": "2025-11-23T18:09:24.701621"
    },
    {
      "test": "Get portfolio assets list after creation",
      "success": false,
      "details": "Status: 401, Expected: 200, Response: {'detail': 'Unauthorized'}",
      "timestamp": "2025-11-23T18:09:24.737977"
    },
    {
      "test": "Cannot continue portfolio tests",
      "success": false,
      "details": "Portfolio creation failed, skipping remaining tests",
      "timestamp": "2025-11-23T18:09:24.738648"
    },
    {
      "test": "Get admin user profile (/auth/me)",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:25.134255"
    },
    {
      "test": "Admin user has correct role assignment",
      "success": true,
      "details": "Email: shivu7sm@gmail.com, Role: admin",
      "timestamp": "2025-11-23T18:09:25.135045"
    },
    {
      "test": "Access admin endpoint with non-admin user (should fail)",
      "success": false,
      "details": "Status: 401, Expected: 403, Response: {'detail': 'Unauthorized'}",
      "timestamp": "2025-11-23T18:09:25.213966"
    },
    {
      "test": "Access admin endpoint with admin user (should work)",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:25.255531"
    },
    {
      "test": "Create test asset for admin stats",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:25.293830"
    },
    {
      "test": "Create test scheduled message for admin stats",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:25.341052"
    },
    {
      "test": "Get admin statistics dashboard",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:25.378067"
    },
    {
      "test": "Admin stats has all required sections",
      "success": true,
      "details": "All sections present: ['users', 'assets', 'scheduled_messages', 'dead_man_switches', 'ai_insights']",
      "timestamp": "2025-11-23T18:09:25.378818"
    },
    {
      "test": "Admin stats users section has correct structure",
      "success": true,
      "details": "Users: 8 total, 4 recent",
      "timestamp": "2025-11-23T18:09:25.378831"
    },
    {
      "test": "Admin stats assets section has correct structure",
      "success": true,
      "details": "Assets: 27 total",
      "timestamp": "2025-11-23T18:09:25.378843"
    },
    {
      "test": "Get all users list",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:25.418546"
    },
    {
      "test": "Admin users list has correct response structure",
      "success": true,
      "details": "Response has all required fields: ['users', 'total', 'skip', 'limit']",
      "timestamp": "2025-11-23T18:09:25.419219"
    },
    {
      "test": "Admin users list has correct user object structure",
      "success": true,
      "details": "User objects have all required fields: ['id', 'email', 'name', 'role', 'subscription_plan', 'created_at', 'asset_count']",
      "timestamp": "2025-11-23T18:09:25.419232"
    },
    {
      "test": "Get users for role update test",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:25.460667"
    },
    {
      "test": "Update user role to readonly",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:25.538841"
    },
    {
      "test": "Update user role back to user",
      "success": false,
      "details": "Status: 400, Expected: 200, Response: {'detail': \"Invalid role. Must be 'admin', 'customer', or 'readonly'\"}",
      "timestamp": "2025-11-23T18:09:25.575668"
    },
    {
      "test": "Update user role to invalid role (should fail)",
      "success": true,
      "details": "Status: 400",
      "timestamp": "2025-11-23T18:09:25.612735"
    },
    {
      "test": "Admin trying to update own role (should fail)",
      "success": true,
      "details": "Status: 400",
      "timestamp": "2025-11-23T18:09:25.653760"
    },
    {
      "test": "Create test scheduled message for admin monitoring",
      "success": false,
      "details": "Status: 401, Expected: 200, Response: {'detail': 'Unauthorized'}",
      "timestamp": "2025-11-23T18:09:25.693679"
    },
    {
      "test": "Get scheduled messages status",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:25.732935"
    },
    {
      "test": "Admin scheduled messages has correct response structure",
      "success": true,
      "details": "Response has all required fields: ['messages', 'total']",
      "timestamp": "2025-11-23T18:09:25.733637"
    },
    {
      "test": "Admin scheduled messages have correct structure",
      "success": true,
      "details": "Message objects have all required fields: ['id', 'user_id', 'recipient_name', 'recipient_email', 'subject', 'send_date', 'status', 'created_at']",
      "timestamp": "2025-11-23T18:09:25.733649"
    },
    {
      "test": "Create test DMS for admin monitoring",
      "success": false,
      "details": "Status: 401, Expected: 200, Response: {'detail': 'Unauthorized'}",
      "timestamp": "2025-11-23T18:09:25.767486"
    },
    {
      "test": "Get DMS reminders status",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:25.806584"
    },
    {
      "test": "Admin DMS reminders has correct response structure",
      "success": true,
      "details": "Response has all required fields: ['dms_reminders', 'total']",
      "timestamp": "2025-11-23T18:09:25.807261"
    },
    {
      "test": "Admin DMS reminders have correct structure",
      "success": true,
      "details": "DMS objects have all required fields: ['id', 'user_id', 'user_email', 'user_name', 'days_inactive', 'days_until_trigger', 'reminders_sent', 'is_active']",
      "timestamp": "2025-11-23T18:09:25.807427"
    },
    {
      "test": "Admin trying to delete own account (should fail)",
      "success": true,
      "details": "Status: 400",
      "timestamp": "2025-11-23T18:09:26.239260"
    },
    {
      "test": "Delete test user and all associated data",
      "success": true,
      "details": "Status: 200",
      "timestamp": "2025-11-23T18:09:26.304017"
    },
    {
      "test": "User deletion removes all associated data",
      "success": true,
      "details": "User and all related data successfully deleted",
      "timestamp": "2025-11-23T18:09:26.686036"
    }
  ]
}